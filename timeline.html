<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="icon" type="image/png" href="./img/CILKGax.png">
        <!-- Tiêu đề của trang dòng thời gian -->
		<title>⏳⏳</title>	    
        <link type="text/css" rel="stylesheet" href="./css/default.css">
        <link rel="stylesheet" href="./css/style.css">
		<script type="text/javascript" src="./js/jquery.min.js"></script>
		<script type="text/javascript" src="./js/jscex.min.js"></script>
		<script type="text/javascript" src="./js/jscex-parser.js"></script>
		<script type="text/javascript" src="./js/jscex-jit.js"></script>
		<script type="text/javascript" src="./js/jscex-builderbase.min.js"></script>
		<script type="text/javascript" src="./js/jscex-async.min.js"></script>
		<script type="text/javascript" src="./js/jscex-async-powerpack.min.js"></script>
		<script type="text/javascript" src="./js/functions.js" charset="utf-8"></script>
		<script type="text/javascript" src="./js/love.js" charset="utf-8"></script>
	    <style type="text/css"></style>

</head>
    <body>
        <div class="buttons">
             <a href="index.html" class="btn btn-bir">🎀🎀</a>
            <a href="timeline.html" class="btn btn-timeline">Merry Christmas</a>
        </div>
        <div id="main">
             <div id="wrap">
                <div id="text">
			        <div id="code">
					<!-- 4. CHỈNH SỬA LỜI CHÚC CỦA BẠN TẠI ĐÂY-->
			      <font color="#3500ff"><span class="say">Các anh chị và các bạn [N]hà mình thân mến, </span><br>
				      <span class="say">Giáng sinh này các anh chị và các bạn linh dương bé bỏng đã có ai để đi chơi Noel chưa nhỉ? Hay vẫn đang ngồi hỏi crush ăn cơm chưa ^^</span><br>
				      <span class="say">Tạm gác lại vấn đề đó ý thì chúng em/mình muốn gửi vài lời đến toàn thể các sis, các bros và các fen.
Vâng, các anh chị thân quý của N63, chúng em đang ở cách anh chị hàng mấy vạn dặm trùng dương, nhưng chúng em biết rằng anh chị luôn hết lòng hết sức quan tâm chúng em trong 1 tháng hoạt động vừa qua. Chúng em mong rằng thời gian tới sẽ có thêm nhiều hoạt động cùng anh chị và chúng ta sẽ sớm gặp lại nhau. This Christmas, chúc anh chị một đời lương thiện và ngập tràn sự hề hước, có chỗ để dựa, uống rượu có thể say mà tỉnh dậy sẽ có người bên cạnh.</span><br>
				      <span class="say">Các chú linh dương à!! Giáng sinh này, chúng mình biết bạn đang ngập ngụa trong dl nên chúng mình đã soạn sẵn thần chú cho các pé rồi nè: Bạn ơi hãy strong lên, hãy win myself của mình, cố gắng smile khi gặp hard và sad story trong life này! Cứ weak thì chẳng giúp gì được cho mình đâu!!! Strong lên. Chúc cho cột sống bạn ổn sau đợt training này và nếu việc gì khó quá thì ta bỏ qua, mà bỏ qua không được thì ta dùng thông điệp từ vũ trụ. Chúc các bạn linh dương sẽ lột xác trở thành các chúa tể ngôn từ, ông hoàng hình khối, kẻ hủy diệt ý tưởng, chiến thần kỹ thuật, thần đồng ngoại giao,... Và hơn cả, trong kỳ thi cuối kỳ sắp tới, zũ trụ, các thần Xoài, thần đá sẽ lắng nghe lời thỉnh cầu và tặng bạn những con A, A+ hay những hobo to bự ^^ </span><br>
				      <span class="say">Cuối cùng, hỡi các anh chị em bạn dì gần xa, chúng em/mình đang gửi vào trong gió những nụ hôn Giáng sinh thơm tho nhất, mong mọi người có thể cảm nhận được. Hẹn gặp các homies một ngày ko farr… </span><br>
				      <span class="say"></span><br>
						
						<span class="say"> </span><br>
                       
			  </font></p>
      </div>
                </div>
                <div id="clock-box">
					
                  <div id="clock"></div>
              </div>
                <canvas id="canvas" width="1100" height="680"></canvas>
            </div>
            
        </div>

    <!-- Phần nhạc -->
    <audio id="player" autoplay loop>
        <source src="./music/ms12.mp3" type="audio/mp3" />
    </audio>
    <script>
    (function(){
        var canvas = $('#canvas');
		
        if (!canvas[0].getContext) {
            $("#error").show();
            return false;        }

        var width = canvas.width();
        var height = canvas.height();        
        canvas.attr("width", width);
        canvas.attr("height", height);
        var opts = {
            seed: {
                x: width / 2 - 20,
                color: "rgb(190, 26, 37)",
                scale: 2
            },
            branch: [
                [535, 680, 570, 250, 500, 200, 30, 100, [
                    [540, 500, 455, 417, 340, 400, 13, 100, [
                        [450, 435, 434, 430, 394, 395, 2, 40]
                    ]],
                    [550, 445, 600, 356, 680, 345, 12, 100, [
                        [578, 400, 648, 409, 661, 426, 3, 80]
                    ]],
                    [539, 281, 537, 248, 534, 217, 3, 40],
                    [546, 397, 413, 247, 328, 244, 9, 80, [
                        [427, 286, 383, 253, 371, 205, 2, 40],
                        [498, 345, 435, 315, 395, 330, 4, 60]
                    ]],
                    [546, 357, 608, 252, 678, 221, 6, 100, [
                        [590, 293, 646, 277, 648, 271, 2, 80]
                    ]]
                ]] 
            ],
            bloom: {
                num: 700,
                width: 1080,
                height: 650,
            },
            footer: {
                width: 1200,
                height: 5,
                speed: 10,
            }
        }

        var tree = new Tree(canvas[0], width, height, opts);
        var seed = tree.seed;
        var foot = tree.footer;
        var hold = 1;

        canvas.click(function(e) {
            var offset = canvas.offset(), x, y;
            x = e.pageX - offset.left;
            y = e.pageY - offset.top;
            if (seed.hover(x, y)) {
                hold = 0; 
                canvas.unbind("click");
                canvas.unbind("mousemove");
                canvas.removeClass('hand');
            }
        }).mousemove(function(e){
            var offset = canvas.offset(), x, y;
            x = e.pageX - offset.left;
            y = e.pageY - offset.top;
            canvas.toggleClass('hand', seed.hover(x, y));
        });

        var seedAnimate = eval(Jscex.compile("async", function () {
            seed.draw();
            while (hold) {
                $await(Jscex.Async.sleep(10));
            }
            while (seed.canScale()) {
                seed.scale(0.95);
                $await(Jscex.Async.sleep(10));
            }
            while (seed.canMove()) {
                seed.move(0, 2);
                foot.draw();
                $await(Jscex.Async.sleep(10));
            }
        }));

        var growAnimate = eval(Jscex.compile("async", function () {
            do {
    	        tree.grow();
                $await(Jscex.Async.sleep(10));
            } while (tree.canGrow());
        }));

        var flowAnimate = eval(Jscex.compile("async", function () {
            do {
    	        tree.flower(2);
                $await(Jscex.Async.sleep(10));
            } while (tree.canFlower());
        }));

        var moveAnimate = eval(Jscex.compile("async", function () {
            tree.snapshot("p1", 240, 0, 610, 680);
            while (tree.move("p1", 500, 0)) {
                foot.draw();
                $await(Jscex.Async.sleep(10));
            }
            foot.draw();
            tree.snapshot("p2", 500, 0, 610, 680);

            canvas.parent().css("background", "url(" + tree.toDataURL('image/png') + ")");
            canvas.css("background", "#ffe");
            $await(Jscex.Async.sleep(300));
            canvas.css("background", "none");
        }));

        var jumpAnimate = eval(Jscex.compile("async", function () {
            var ctx = tree.ctx;
            while (true) {
                tree.ctx.clearRect(0, 0, width, height);
                tree.jump();
                foot.draw();
                $await(Jscex.Async.sleep(25));
            }
        }));

      var textAnimate = eval(Jscex.compile("async", function () {
		    var together = new Date();
		    var year = 2021, month = 12, day = 1;  // 5. thay đổi ngày tháng năm yêu nhau tại đây hoặc ngày sinh của người mà bạn muốn chúc
		    together.setFullYear(year, month - 1, day); 			
		    together.setHours(0);							
		    together.setMinutes(0);				
		    together.setSeconds(0);					
		    together.setMilliseconds(0);			

		    $("#code").show().typewriter();
            $("#clock-box").fadeIn(500);
            while (true) {
                timeElapse(together);
                $await(Jscex.Async.sleep(1000));
            }
        }));

	    var runAsync = eval(Jscex.compile("async", function () {
            $await(seedAnimate());
            $await(growAnimate());
            $await(flowAnimate());
            $await(moveAnimate());

            textAnimate().start();

            $await(jumpAnimate());
        }));

        runAsync().start();
    })();
    </script>
</div>
</body>
</html>
